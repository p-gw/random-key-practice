(function(e){function t(t){for(var a,r,s=t[0],o=t[1],b=t[2],u=0,f=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&f.push(c[r][0]),c[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);i&&i(t);while(f.length)f.shift()();return l.push.apply(l,b||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,s=1;s<n.length;s++){var o=n[s];0!==c[o]&&(a=!1)}a&&(l.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},c={app:0},l=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/random-key-practice/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var b=0;b<s.length;b++)t(s[b]);var i=o;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"06da":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),c=(n("d3b7"),n("ddb0"),{"data-theme":"bumblebee"}),l={class:"flex min-w-screen min-h-screen bg-base-100"},r={class:"flex flex-col items-center justify-center w-96 h-96 rounded-full border-2 border-base-content m-auto"},s=Object(a["f"])("div",{class:"h-24"},null,-1),o={class:"h-12 w-48"},b={class:"flex items-center h-12"},i={class:"flex items-center h-24"};function u(e,t,n,u,f,p){var d=Object(a["l"])("welcome-modal"),j=Object(a["l"])("metronome-settings"),O=Object(a["l"])("bar-display"),v=Object(a["l"])("key-display"),m=Object(a["l"])("metronome-display"),h=Object(a["l"])("stop-button"),g=Object(a["l"])("play-button");return Object(a["g"])(),Object(a["c"])("div",c,[Object(a["f"])(d),Object(a["f"])("div",l,[Object(a["f"])(j,{class:"absolute top-0 right-0 h-fill",onBpm:u.setBpm,onKeys:u.setKeys,onKeyBeats:u.setBeats,onKeyBars:u.setBars},null,8,["onBpm","onKeys","onKeyBeats","onKeyBars"]),Object(a["f"])("div",r,[s,Object(a["f"])("div",o,[u.nBars>1?(Object(a["g"])(),Object(a["c"])(O,{key:0,n_bars:u.nBars,current:u.bar},null,8,["n_bars","current"])):Object(a["d"])("",!0)]),Object(a["f"])(v,{prev:u.keys[0],active:u.keys[1],next:u.keys[2]},null,8,["prev","active","next"]),Object(a["f"])("div",b,[Object(a["f"])(m,{n_beats:u.nBeats,active:u.step},null,8,["n_beats","active"])]),Object(a["f"])("div",i,[Object(a["f"])("a",{href:"#",class:"btn btn-primary",onClick:t[1]||(t[1]=function(){return u.toggle&&u.toggle.apply(u,arguments)})},[u.playing?(Object(a["g"])(),Object(a["c"])(h,{key:0})):(Object(a["g"])(),Object(a["c"])(g,{key:1}))])])])])])}n("0481");var f=n("a1e9"),p=n("5c40"),d={class:"flex gap-1 items-center"};function j(e,t,n,c,l,r){var s=Object(a["l"])("key-item");return Object(a["g"])(),Object(a["c"])("div",d,[Object(a["f"])(s,null,{default:Object(a["p"])((function(){return[Object(a["e"])(Object(a["m"])(n.prev),1)]})),_:1}),Object(a["f"])(s,{active:""},{default:Object(a["p"])((function(){return[Object(a["e"])(Object(a["m"])(n.active),1)]})),_:1}),Object(a["f"])(s,null,{default:Object(a["p"])((function(){return[Object(a["e"])(Object(a["m"])(n.next),1)]})),_:1})])}var O={key:0,class:"flex justify-center items-center w-32 h-32 text-7xl font-bold text-base-content"},v={key:1,class:"flex justify-center items-center w-24 h-24 text-3xl text-base-content opacity-75"};function m(e,t,n,c,l,r){return n.active?(Object(a["g"])(),Object(a["c"])("div",O,[Object(a["k"])(e.$slots,"default")])):(Object(a["g"])(),Object(a["c"])("div",v,[Object(a["k"])(e.$slots,"default")]))}var h={props:{active:{type:Boolean,default:!1}}};h.render=m;var g=h,y={props:{prev:{type:String},next:{type:String},active:{type:String}},components:{KeyItem:g}};y.render=j;var w=y,x={class:"flex"},k=Object(a["f"])("br",null,null,-1);function B(e,t,n,c,l,r){var s=Object(a["l"])("metronome-beat");return Object(a["g"])(),Object(a["c"])(a["a"],null,[Object(a["f"])("div",x,[(Object(a["g"])(!0),Object(a["c"])(a["a"],null,Object(a["j"])(r.beats,(function(e,t){return Object(a["g"])(),Object(a["c"])("span",{key:"beat-".concat(t)},[Object(a["f"])(s,{highlighted:t<=n.active-1,active:t==n.active-1},null,8,["highlighted","active"])])})),128))]),k],64)}n("a9e3");var _=Object(a["r"])("data-v-291b6fca");Object(a["i"])("data-v-291b6fca");var M={class:"flex h-3 w-3 m-1"};Object(a["h"])();var S=_((function(e,t,n,c,l,r){return Object(a["g"])(),Object(a["c"])("div",M,[Object(a["f"])("span",{class:["absolute w-3 h-3 rounded-full bg-base-300",{animate:n.active}]},null,2),Object(a["f"])("span",{class:["relative w-3 h-3 rounded-full bg-base-300",{highlighted:n.highlighted}]},null,2)])})),C={props:{active:{default:!1,type:Boolean},highlighted:{default:!1,type:Boolean}}};n("5f4f");C.render=S,C.__scopeId="data-v-291b6fca";var K=C,U={props:{n_beats:{default:4,type:Number},active:{type:Number}},computed:{beats:function(){for(var e=[],t=0;t<this.n_beats;t++)e.push(t);return e}},components:{MetronomeBeat:K}};U.render=B;var T=U,P={class:"shadow drawer drawer-end w-full"},q=Object(a["f"])("input",{id:"settings-drawer",type:"checkbox",class:"drawer-toggle"},null,-1),D={class:"flex flex-col justify-center drawer-content"},V={for:"settings-drawer",class:"absolute top-0 left-0 m-6 btn btn-neutral drawer-button"},A={class:"drawer-side"},G=Object(a["f"])("label",{for:"settings-drawer",class:"drawer-overlay"},null,-1),R={class:"menu p-8 overflow-y-auto w-96 min-h-screen bg-base-200"},z=Object(a["f"])("label",{class:"label"},[Object(a["f"])("span",{class:"label-text text-lg font-bold"},"Meter settings")],-1),E={class:"form-control"},F=Object(a["f"])("label",{class:"label"},[Object(a["f"])("span",{class:"label-text"},"Beats per minute")],-1),I={class:"flex items-center"},J={class:"pt-8"},N={class:"form-control"},W=Object(a["f"])("label",{class:"label"},[Object(a["f"])("span",{class:"label-text"},"Bars per key")],-1),$={class:"flex items-center"},L={class:"pt-8"},H={class:"form-control"},Q=Object(a["f"])("label",{class:"label"},[Object(a["f"])("span",{class:"label-text"},"Beats per measure")],-1),X={class:"flex items-center"},Y={class:"pt-8"},Z={class:"form-control"},ee=Object(a["f"])("label",{class:"label"},[Object(a["f"])("span",{class:"label-text text-lg font-bold"},"Key settings")],-1),te={class:"form-control"},ne={class:"cursor-pointer label"},ae=Object(a["f"])("span",{class:"label-text"},"Use flats",-1),ce={class:"form-control"},le={class:"cursor-pointer label"},re=Object(a["f"])("span",{class:"label-text"},"Use sharps",-1),se={class:"form-control"},oe={class:"cursor-pointer label"},be=Object(a["f"])("span",{class:"label-text"},"Use extended keys",-1);function ie(e,t,n,c,l,r){var s=Object(a["l"])("settings-button");return Object(a["g"])(),Object(a["c"])("div",P,[q,Object(a["f"])("div",D,[Object(a["f"])("label",V,[Object(a["f"])(s)])]),Object(a["f"])("div",A,[G,Object(a["f"])("ul",R,[Object(a["f"])("li",null,[z,Object(a["f"])("div",E,[F,Object(a["f"])("div",I,[Object(a["q"])(Object(a["f"])("input",{type:"range",min:c.bpmRange.min,max:c.bpmRange.max,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.bpm=e}),class:"range pr-4"},null,8,["min","max"]),[[a["o"],c.bpm]]),Object(a["q"])(Object(a["f"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.bpm=e}),type:"number",placeholder:"",class:"input input-bordered w-24"},null,512),[[a["o"],c.bpm]])])])]),Object(a["f"])("li",J,[Object(a["f"])("div",N,[W,Object(a["f"])("div",$,[Object(a["q"])(Object(a["f"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.bars=e}),type:"number",placeholder:"",class:"input input-bordered w-24"},null,512),[[a["o"],c.bars]])])])]),Object(a["f"])("li",L,[Object(a["f"])("div",H,[Q,Object(a["f"])("div",X,[Object(a["q"])(Object(a["f"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.beats=e}),type:"number",placeholder:"",class:"input input-bordered w-24"},null,512),[[a["o"],c.beats]])])])]),Object(a["f"])("li",Y,[Object(a["f"])("div",Z,[ee,Object(a["f"])("div",te,[Object(a["f"])("label",ne,[ae,Object(a["q"])(Object(a["f"])("input",{type:"radio",name:"opt",class:"radio",checked:"checked","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.keys=e}),value:1},null,512),[[a["n"],c.keys]])])]),Object(a["f"])("div",ce,[Object(a["f"])("label",le,[re,Object(a["q"])(Object(a["f"])("input",{type:"radio",name:"opt",class:"radio","onUpdate:modelValue":t[6]||(t[6]=function(e){return c.keys=e}),value:2},null,512),[[a["n"],c.keys]])])]),Object(a["f"])("div",se,[Object(a["f"])("label",oe,[be,Object(a["q"])(Object(a["f"])("input",{type:"radio",name:"opt",class:"radio","onUpdate:modelValue":t[7]||(t[7]=function(e){return c.keys=e}),value:3},null,512),[[a["n"],c.keys]])])])])])])])])}var ue={class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},fe=Object(a["f"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},null,-1),pe=Object(a["f"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1);function de(e,t){return Object(a["g"])(),Object(a["c"])("svg",ue,[fe,pe])}const je={};je.render=de;var Oe=je,ve={components:{SettingsButton:Oe},emits:["bpm","keys","key-beats","key-bars"],setup:function(e,t){var n=t.emit,a=Object(f["j"])(120),c={min:30,max:300};Object(p["C"])(a,(function(){n("bpm",a.value)}));var l=Object(f["j"])(1);Object(p["C"])(l,(function(){n("keys",l.value)}));var r=Object(f["j"])(4),s=Object(f["j"])(1);return Object(p["C"])(r,(function(){n("key-beats",r.value)})),Object(p["C"])(s,(function(){n("key-bars",s.value)})),{bpm:a,bpmRange:c,keys:l,beats:r,bars:s}}};ve.render=ie;var me=ve,he=n("5e54"),ge={class:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ye=Object(a["f"])("path",{fill:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"},null,-1);function we(e,t){return Object(a["g"])(),Object(a["c"])("svg",ge,[ye])}const xe={};xe.render=we;var ke=xe,Be={class:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_e=Object(a["f"])("path",{fill:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"},null,-1);function Me(e,t){return Object(a["g"])(),Object(a["c"])("svg",Be,[_e])}const Se={};Se.render=Me;var Ce=Se,Ke={class:"modal-box"},Ue=Object(a["f"])("h1",{class:"text-3xl font-bold mb-4"},"Welcome!",-1),Te=Object(a["f"])("p",null,"This application is a tool for instrument practice. Typically one practices scales and chords by going circling through them chromatically or along the circle of fourths/fifths. This can lead to repetetive practice patterns, which can be avoided by practicing in random keys. The application provides a way to do so.",-1),Pe=Object(a["f"])("h2",{class:"text-xl font-bold mt-4"},"Usage",-1),qe=Object(a["f"])("h3",{class:"text-lg font-bold mt-2"},"Settings",-1),De=Object(a["f"])("p",null,"To access the application settings click the settings button at the top right. This will open a settings dialog where the following parameters can be adjusted:",-1),Ve=Object(a["f"])("ul",{class:"pl-4"},[Object(a["f"])("li",null,"beats per minute: Set the tempo for the metronome."),Object(a["f"])("li",null,"beats per measure: Set the number of beats in a measure."),Object(a["f"])("li",null,"key settings: Set the keys in which to practice in.")],-1),Ae={class:"modal-action"};function Ge(e,t,n,c,l,r){return Object(a["g"])(),Object(a["c"])("div",{id:"welcome-modal",class:["modal",{"modal-open":c.isOpened}]},[Object(a["f"])("div",Ke,[Ue,Te,Pe,qe,De,Ve,Object(a["f"])("div",Ae,[Object(a["f"])("a",{href:"#",class:"btn btn-primary",onClick:t[1]||(t[1]=function(){return c.closeModal&&c.closeModal.apply(c,arguments)})},"Got it!")])])],2)}var Re={setup:function(){var e=Object(f["j"])(!0),t=function(){return e.value=!1};return{isOpened:e,closeModal:t}}};Re.render=Ge;var ze=Re;function Ee(e,t,n,c,l,r){return Object(a["g"])(),Object(a["c"])("progress",{class:"progress progress-success",value:n.current,max:n.n_bars},null,8,["value","max"])}var Fe={props:["current","n_bars"]};Fe.render=Ee;var Ie=Fe,Je=["C","D","E","F","G","A","B"],Ne=["B♭","E♭","A♭","D♭","G♭"],We=["F♯","C♯","G♯","D♯","A♯"],$e=function(e){return e[Math.floor(Math.random()*e.length)]},Le=function(e,t){e.shift(),e.push($e(t))},He={name:"App",setup:function(){var e=Object(f["j"])(!1),t=Object(f["j"])(0),n=Object(f["j"])(1),a=Object(f["j"])([Je,Ne].flat()),c=Object(f["j"])([$e(a.value),$e(a.value),$e(a.value)]),l=Object(f["j"])(120),r=Object(f["j"])(4),s=Object(f["j"])(1),o={oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:.005}},b=new he["a"](o).toDestination();he["b"].scheduleRepeat((function(e){t.value==r.value?(t.value=1,n.value==s.value?(n.value=1,Le(c.value,a.value)):n.value+=1):t.value+=1,b.triggerAttackRelease(1==t.value?"G4":"C#4","32n",e)}),"4n");var i=function(){e.value?(he["b"].stop(),t.value=0):(Object(he["c"])(),he["b"].bpm.value=l.value,he["b"].timeSignature=r.value,he["b"].start()),e.value=!e.value};Object(p["p"])((function(){window.addEventListener("keydown",(function(e){"Space"===e.code&&i()}))}));var u=Object(p["d"])((function(){return e.value?"stop":"play"})),d=function(e){l.value=e,he["b"].bpm.value=e},j=function(e){1==e?a.value=[Je,Ne].flat():2==e?a.value=[Je,We].flat():3==e&&(a.value=[Je,Ne,We].flat())},O=function(e){r.value=+e,he["b"].timeSignature=+e},v=function(e){s.value=+e};return{playing:e,toggle:i,playButtonText:u,keys:c,step:t,bar:n,setBpm:d,setKeys:j,nBeats:r,nBars:s,setBeats:O,setBars:v}},components:{KeyDisplay:w,MetronomeDisplay:T,MetronomeSettings:me,PlayButton:ke,StopButton:Ce,WelcomeModal:ze,BarDisplay:Ie}};n("79df");He.render=u;var Qe=He,Xe=(n("a766"),n("ecee")),Ye=n("c074");n("4531");Xe["a"].add(Ye["a"]),Object(a["b"])(Qe).mount("#app")},"5f4f":function(e,t,n){"use strict";n("06da")},"79df":function(e,t,n){"use strict";n("cb55")},a766:function(e,t,n){},cb55:function(e,t,n){}});
//# sourceMappingURL=app.9ad1b6b9.js.map